(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,n){"use strict";var r=n(12),a=n(7),c=n.n(a),o=n(14),i=n(8),s=n(1),u=n.n(s),l=n(26),d=n(22),j=function(){var e=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/categories");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,d.a.get("/categories/".concat(n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/categories",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/categories/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("/categories/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=n(0);t.a=function(e){return function(t){var n=Object(l.useQueryClient)(),a=u.a.useState(void 0),s=Object(i.a)(a,2),d=s[0],x=s[1],m=Object(l.useQuery)("readCategories",Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{manual:!0,enabled:!1}),v=Object(l.useQuery)(["readCategoryById",d],Object(o.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({id:d});case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),{manual:!0,enabled:!!d}),g=Object(l.useMutation)(function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,r=t.createSuccessCb,a=t.createErrorCb,e.next=3,f(n).then((function(e){return r(),e})).catch((function(e){return a(),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w=g.mutate,y=g.status,C=Object(l.useMutation)(function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,r=t.createSuccessCb,a=t.createErrorCb,e.next=3,p(n).then((function(e){return r(),e})).catch((function(e){return a(),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),k=C.mutate,S=C.status,E=Object(l.useMutation)(function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.deleteSuccessCb,a=t.deleteErrorCb,e.next=3,O(n).then((function(e){return r(),e})).catch((function(e){return a(),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),I=E.mutate,_=E.status;return u.a.useEffect((function(){void 0===d&&n.invalidateQueries("readCategoryById")}),[d]),Object(h.jsx)(e,Object(r.a)({id:d,setId:x,readCategories:m,readCategoryById:v,createCategory:w,createCategoryInfo:y,updateCategory:k,updateCategoryInfo:S,deleteCategory:I,deleteCategoryInfo:_},t))}}},109:function(e,t,n){"use strict";var r=n(7),a=n.n(r),c=n(14),o=n(306),i="access_token",s="refresh_token",u="userInfo",l=JSON.parse,d=JSON.stringify,j={clear:function(e){return localStorage&&localStorage.getItem(e)?localStorage.removeItem(e):sessionStorage&&sessionStorage.getItem(e)?sessionStorage.removeItem(e):null},clearAppStorage:function(){localStorage&&localStorage.clear(),sessionStorage&&sessionStorage.clear()},clearToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return j.clear(e)},clearUserInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return j.clear(e)},get:function(e){return localStorage&&localStorage.getItem(e)?l(localStorage.getItem(e))||null:sessionStorage&&sessionStorage.getItem(e)&&l(sessionStorage.getItem(e))||null},getToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return j.get(e)},getRefreshToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return j.get(e)},getUserInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return j.get(e)},set:function(e,t,n){return Object(c.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!Object(o.a)(e)){r.next=2;break}return r.abrupt("return",null);case 2:if(!n||!localStorage){r.next=4;break}return r.abrupt("return",localStorage.setItem(t,d(e)));case 4:if(!sessionStorage){r.next=6;break}return r.abrupt("return",sessionStorage.setItem(t,d(e)));case 6:return r.abrupt("return",null);case 7:case"end":return r.stop()}}),r)})))()},setToken:function(){var e=arguments;return Object(c.a)(a.a.mark((function t(){var n,r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:"",r=e.length>1&&void 0!==e[1]&&e[1],c=e.length>2&&void 0!==e[2]?e[2]:i,t.next=5,j.set(n,c,r);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()},setRefreshToken:function(){var e=arguments;return Object(c.a)(a.a.mark((function t(){var n,r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:"",r=e.length>1&&void 0!==e[1]&&e[1],c=e.length>2&&void 0!==e[2]?e[2]:s,t.next=5,j.set(n,c,r);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()},setUserInfo:function(){var e=arguments;return Object(c.a)(a.a.mark((function t(){var n,r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:"",r=e.length>1&&void 0!==e[1]&&e[1],c=e.length>2&&void 0!==e[2]?e[2]:u,t.next=5,j.set(d(n),c,r);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}};t.a=j},118:function(e,t,n){"use strict";var r,a=n(213),c=n.n(a);t.a=function(){return void 0===r&&(r=function(){try{return c.a.statSync("/.dockerenv"),!0}catch(e){return!1}}()||function(){try{return c.a.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch(e){return!1}}()),r}},124:function(e,t,n){"use strict";n(1);var r=n(101);t.a=function(){var e=Object(r.b)().enqueueSnackbar;return{showErrors:function(t){if(Object.keys(t).length>1&&e("Warning: fields cannot be empty.",{variant:"warning"}),1===Object.keys(t).length)for(var n=0,r=Object.values(t);n<r.length;n++){var a=r[n];e("Warning: "+a,{variant:"warning"})}}}}},127:function(e,t,n){"use strict";var r=n(12),a=n(7),c=n.n(a),o=n(14),i=n(8),s=n(500),u=n(502),l=n(220),d=n(101),j=n(1),b=n(26),f=n(22),p=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("/events",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("/events/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,f.a.get("/events/".concat(n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/events");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.put("/events/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=n(0);t.a=function(e){return function(t){var n=j.useState(void 0),a=Object(i.a)(n,2),f=a[0],g=a[1],w=j.useState(!1),y=Object(i.a)(w,2),C=y[0],k=y[1],S=Object(d.b)().enqueueSnackbar,E=Object(b.useQueryClient)(),I=Object(b.useQuery)("readEvents",Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{manual:!0,enabled:!1}),_=Object(b.useQuery)(["readEventById",f],Object(o.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({id:f});case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),{manual:!0,enabled:!!f}),N=Object(b.useMutation)(function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,r=t.createSuccessCb,a=t.createErrorCb,e.next=3,p(n).then((function(e){var t=Object(l.a)(e,"data.message",null);return t&&S(t,{variant:"success"}),E.invalidateQueries("readEvents"),r&&r(),e})).catch((function(e){return console.log("err",e),S("Error: event cannot be created",{variant:"error"}),a&&a(),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),P=N.mutate,T=N.status,D=Object(b.useMutation)(function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,r=t.createSuccessCb,a=t.createErrorCb,e.next=3,m(n).then((function(e){var t=Object(l.a)(e,"data.message",null);return t&&S(t,{variant:"success"}),E.invalidateQueries("readEvents"),r&&r(),e})).catch((function(e){return console.log("err",e),S("Error: event cannot be updated",{variant:"error"}),a&&a(),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M=D.mutate,A=D.status,R=Object(b.useMutation)(function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.deleteSuccessCb,a=t.deleteErrorCb,e.next=3,O(n).then((function(e){return r(),e})).catch((function(e){return a(),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L=R.mutate,F=R.status;return j.useEffect((function(){void 0===f&&E.invalidateQueries("readEventById")}),[f]),j.useEffect((function(){var e=[I.isLoading,_.isLoading];[T.status,A.status,F.status].some((function(e){return"loading"===e}))||e.some((function(e){return!0===e}))?k(!0):k(!1)}),[I.isLoading,_.isLoading,T.status,A.status,F.status]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(s.a,{open:C,sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.1)",zIndex:function(e){return e.zIndex.drawer+1}},children:Object(v.jsx)(u.a,{color:"primary"})}),Object(v.jsx)(e,Object(r.a)({readEvents:I,readEventById:_,createEvent:P,createEventInfo:T,updateEvent:M,updateEventInfo:A,deleteEvent:L,deleteEventInfo:F,setEventId:g},t))]})}}},128:function(e,t,n){"use strict";var r=n(12),a=n(7),c=n.n(a),o=n(14),i=n(8),s=n(1),u=n.n(s),l=n(26),d=n(22),j=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/promoters/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/promoters");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/promoters",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/promoters/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("/promoters/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=n(0);t.a=function(e){return function(t){var n=u.a.useState(void 0),a=Object(i.a)(n,2),s=a[0],d=(a[1],Object(l.useQuery)("readPromoters",Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{manual:!0,enabled:!1})),x=Object(l.useQuery)(["readPromoterById",{id:s}],function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{manual:!0,enabled:!!s}),m=Object(l.useMutation)(function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,r=t.createSuccessCb,a=t.createErrorCb,e.next=3,f(n).then((function(e){return r(),e})).catch((function(e){return a(),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=m.mutate,g=m.status,w=Object(l.useMutation)(function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,r=t.createSuccessCb,a=t.createErrorCb,e.next=3,p(n).then((function(e){return r(),e})).catch((function(e){return a(),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y=w.mutate,C=w.status,k=Object(l.useMutation)(function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.deleteSuccessCb,a=t.deleteErrorCb,e.next=3,O(n).then((function(e){return r(),e})).catch((function(e){return a(),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S=k.mutate,E=k.status;return Object(h.jsx)(e,Object(r.a)({readPromoters:d,readPromoterById:x,createPromoter:v,createPromoterInfo:g,updatePromoter:y,updatePromoterInfo:C,deletePromoter:S,deletePromoterInfo:E},t))}}},133:function(e,t,n){e.exports={"event-item-container":"EventItem_event-item-container__2r6c0","event-item-header":"EventItem_event-item-header__2hktu","event-item-subheader":"EventItem_event-item-subheader__11DUD","event-item-row":"EventItem_event-item-row__2ZqY9"}},178:function(e,t,n){"use strict";var r=n(37),a=n.n(r),c={title:"",description:"",featuredImage:"",startDate:a()().toISOString(),endDate:a()().toISOString(),category:"",promoter:"",url:"",tags:[],location:"",isOffline:!1,isPublic:!1};t.a=c},179:function(e,t,n){e.exports={"create-event-dialog-container":"CreateEventDialog_create-event-dialog-container__2v7LB"}},188:function(e,t,n){"use strict";var r=n(12),a=n(7),c=n.n(a),o=n(14),i=(n(1),n(26)),s=n(22),u=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/files/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.next=4,s.a.post("/files/upload",n,{headers:{"Content-Type":"multipart/form-data"}});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=n(0);t.a=function(e){return function(t){var n=Object(i.useQuery)("downloadFile",function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{manueal:!0,enabled:!1}),a=Object(i.useMutation)(function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.createSuccessCb,a=t.createErrorCb,e.next=3,l(n).then((function(e){return r(),e})).catch((function(e){return a(),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s=a.mutate,j=a.status,b=Object(i.useMutation)(function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.createSuccessCb,a=t.createErrorCb,e.next=3,l(n).then((function(e){return r(),e})).catch((function(e){return a(),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=b.mutate,p=b.status;return Object(d.jsx)(e,Object(r.a)({downloadFile:n,uploadFile:s,uploadFileInfo:j,multiUploadFile:f,multiUploadFileInfo:p},t))}}},191:function(e,t,n){e.exports={"table-actions-container":"TableActions_table-actions-container__N5jnD","table-actions-edit-icon":"TableActions_table-actions-edit-icon__2ZEzb","table-actions-delete-icon":"TableActions_table-actions-delete-icon__33CP7","table-actions-link-icon":"TableActions_table-actions-link-icon__3YljB"}},215:function(e,t,n){e.exports={"dashboard-page-container":"DashboardPage_dashboard-page-container__2-mom","dashboard-page-logo-wrapper":"DashboardPage_dashboard-page-logo-wrapper__2mCvf","dashboard-page-date-wrapper":"DashboardPage_dashboard-page-date-wrapper__26dR2"}},216:function(e,t,n){e.exports={"toolbar-container":"Toolbar_toolbar-container__rXT4l","toolbar-wrapper":"Toolbar_toolbar-wrapper__26n8Z"}},22:function(e,t,n){"use strict";var r=n(170),a=n.n(r),c=n(118),o=n(109),i=a.a.create({baseURL:Object(c.a)()?"http://backend:3000":"http://localhost:3000",timeout:1e4});i.defaults.headers.common["access-control-allow-origin"]="*",i.interceptors.request.use((function(e){var t=o.a.getToken();return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status?"UNAUTHORIZED":Promise.reject(e)})),t.a=i},269:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(12),c=n(7),o=n.n(c),i=n(14),s=n(8),u=n(1),l=n(19),d=n(495),j=n(496),b=n(503),f=n(504),p=n(502),O=n(114),h=n(497),x=n(501),m=n(312),v=n(308),g=n(307),w=n(314),y=n(315),C=n(309),k=n(489),S=n(505),E=n(310),I=n(305),_=n(36),N=n.n(_),P=n(178),T=n(100),D=n(127),M=n(128),A=n(35),R=n(220),L=n(306),F=n(179),W=n.n(F),H=n(188),U=n(37),q=n.n(U),G=n(25),Q=n(124),B=n(91),V=n(0),Y=G.c({title:G.d().required(),description:G.d(),featuredImage:G.d().required(),startDate:G.d().required(),endDate:G.d().required(),category:G.d().required(),promoter:G.d().required(),tags:G.a().of(G.d()),url:G.d(),location:G.d(),isOffline:G.b().required(),isPublic:G.b().required()}),z=Object(B.a)(Y);t.default=Object(M.a)(Object(T.a)(Object(D.a)(Object(H.a)((function(e){var t,n=e.readEventById,c=e.readCategories,_=e.readPromoters,T=e.uploadFile,D=e.title,M=e.dialog,F=e.onSubmit,H=e.setEventId,U=u.useState(P.a),G=Object(s.a)(U,2),B=G[0],Y=G[1],J=u.useState(void 0),X=Object(s.a)(J,2),Z=X[0],K=X[1],$=u.useState([]),ee=Object(s.a)($,2),te=ee[0],ne=ee[1],re=u.useState(!0),ae=Object(s.a)(re,2),ce=ae[0],oe=ae[1],ie=u.useContext(A.a).isTablet,se=Object(Q.a)().showErrors,ue=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.refetch(),_.refetch();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M.id&&H(M.id);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u.useEffect((function(){if(n.data){var e=Object.assign({},n.data,{category:n.data.category._id,promoter:n.data.promoter._id});Y(e),oe(!1)}}),[n.data]),u.useEffect((function(){de()}),[M.id]),u.useEffect((function(){return le(),function(){return H(void 0)}}),[]),Object(V.jsx)(l.b,{onSubmit:F,validate:z,initialValues:B,render:function(e){var s=e.handleSubmit,u=(e.reset,e.form),P=e.submitting;e.pristine,e.values;return t=s,Object(V.jsx)("form",{onSubmit:s,children:Object(V.jsxs)(d.a,{className:W.a["".concat("create-event-dialog-","container")],open:M.open,onClose:M.handleClose,fullScreen:!ie,"aria-labelledby":"createEvent",children:[Object(V.jsx)(j.a,{children:Object(V.jsxs)("div",{className:"flex-row",children:[D,Object(V.jsx)(b.a,{onClick:M.handleClose,children:Object(V.jsx)(N.a,{})})]})}),Object(V.jsx)(f.a,{children:ce?Object(V.jsx)(p.a,{}):Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(l.a,{name:"title",children:function(e){return Object(V.jsx)("div",{children:Object(V.jsx)(O.a,Object(a.a)(Object(a.a)({},e.input),{},{error:!!e.meta.error,margin:"normal",fullWidth:!0,label:"Title",type:"text",id:"title"}))})}}),Object(V.jsx)(l.a,{name:"description",children:function(e){return Object(V.jsx)("div",{children:Object(V.jsx)(O.a,Object(a.a)(Object(a.a)({sx:{mt:"16px",mb:"8px"}},e.input),{},{fullWidth:!0,id:"description",label:"Description",multiline:!0,rows:4,variant:"outlined"}))})}}),Object(V.jsxs)("div",{className:"form-row",children:[Object(V.jsx)(l.a,{name:"startDate",children:function(e){return Object(V.jsx)(I.a,Object(a.a)(Object(a.a)({},e.input),{},{value:q()(e.input.value).toISOString(),onChange:function(t,n){return e.input.onChange(q()(n).toISOString())},renderInput:function(e){var t;return Object(V.jsx)(O.a,Object(a.a)((t={fullWidth:!0,sx:{mt:"16px",mb:"8px"}},Object(r.a)(t,"fullWidth",!0),Object(r.a)(t,"variant","outlined"),t),e))},margin:"normal",label:"Start date",type:"text",id:"startDate"}))}}),Object(V.jsx)(l.a,{name:"endDate",children:function(e){return Object(V.jsx)(I.a,Object(a.a)(Object(a.a)({},e.input),{},{value:q()(e.input.value).toISOString(),onChange:function(t,n){return e.input.onChange(q()(n).toISOString())},renderInput:function(e){var t;return Object(V.jsx)(O.a,Object(a.a)((t={fullWidth:!0,sx:{mt:"16px",mb:"8px"}},Object(r.a)(t,"fullWidth",!0),Object(r.a)(t,"variant","outlined"),t),e))},margin:"normal",label:"End date",type:"text",id:"endDate"}))}})]}),Object(V.jsx)(l.a,{name:"tags",children:function(e){return Object(V.jsx)(h.a,{fullWidth:!0,name:e.input.name,value:te,multiple:!0,onChange:function(e,t){ne((function(e){return t}))},id:"tags",options:[],freeSolo:!0,renderTags:function(e,t){if(e&&e.length)return e.map((function(e,n){return Object(V.jsx)(x.a,Object(a.a)({variant:"outlined",label:e},t({index:n})))}))},renderInput:function(e){return Object(V.jsx)(O.a,Object(a.a)(Object(a.a)({fullWidth:!0,sx:{mt:"16px",mb:"8px"}},e),{},{label:"Tags"}))}})}}),Object(V.jsxs)("div",{className:"form-row",children:[Object(V.jsxs)("div",{className:"form-column",style:{flexBasis:"50%"},children:[Object(V.jsx)(l.a,{name:"category",children:function(e){return Object(V.jsxs)(m.a,{sx:{mt:"16px",mb:"8px"},fullWidth:!0,children:[Object(V.jsx)(v.a,{id:"categoryLabel",children:"Category"}),Object(V.jsx)(g.a,Object(a.a)(Object(a.a)({},e.input),{},{error:!!e.meta.error,labelId:"categoryLabel",id:"category",label:"Category",children:Object(R.a)(c,"data.data",[]).map((function(e,t){return Object(V.jsx)(w.a,{value:e._id,children:e.name},"".concat(e.name,"-").concat(t))}))}))]})}}),Object(V.jsx)(l.a,{name:"promoter",children:function(e){return Object(V.jsxs)(m.a,{sx:{mt:"16px",mb:"8px"},fullWidth:!0,children:[Object(V.jsx)(v.a,{id:"promoterLabel",children:"Promoter"}),Object(V.jsx)(g.a,Object(a.a)(Object(a.a)({},e.input),{},{error:!!e.meta.error,labelId:"promoterLabel",id:"promoter",label:"Promoter",children:Object(R.a)(_,"data.data",[]).map((function(e,t){return Object(V.jsx)(w.a,{value:e._id,children:e.name},"".concat(e.name,"-").concat(t))}))}))]})}}),Object(V.jsx)(l.a,{name:"url",children:function(e){return Object(V.jsx)(O.a,Object(a.a)(Object(a.a)({},e.input),{},{error:!!e.meta.error,margin:"normal",fullWidth:!0,label:"Url",type:"text",id:"url"}))}}),Object(V.jsx)(l.a,{name:"location",children:function(e){return Object(V.jsx)(O.a,Object(a.a)(Object(a.a)({},e.input),{},{margin:"normal",fullWidth:!0,label:"Location",type:"text",id:"location"}))}}),Object(V.jsxs)("div",{className:"form-row",children:[Object(V.jsx)(l.a,{name:"isOffline",type:"checkbox",children:function(e){return Object(V.jsx)(y.a,Object(a.a)(Object(a.a)({},e.input),{},{control:Object(V.jsx)(C.a,{checked:e.input.value,onChange:e.input.onChange}),label:"Offline"}))}}),Object(V.jsx)(l.a,{name:"isPublic",type:"checkbox",children:function(e){return Object(V.jsx)(y.a,Object(a.a)(Object(a.a)({},e.input),{},{control:Object(V.jsx)(C.a,{checked:e.input.value,onChange:e.input.onChange}),label:"Public"}))}})]})]}),Object(V.jsx)("div",{style:{flexBasis:"50%"},children:Object(V.jsxs)("div",{className:"form-column",children:[Object(V.jsx)("img",{src:B.featuredImage||"/placeholder.svg",width:200,alt:"placeholder"}),Object(V.jsx)(l.a,{name:"featuredImage",children:function(e){return Object(V.jsx)("label",Object(a.a)(Object(a.a)({},e.input),{},{onChange:function(t){t.preventDefault();var n=t.target.files[0];e.input.onChange("http://localhost:3000/uploads/"+n.name),K(n)},htmlFor:"contained-button-file",children:Object(V.jsx)(k.a,{accept:"image/*",id:"contained-button-file",type:"file"})}))}})]})})]})]})}),Object(V.jsxs)(S.a,{children:[Object(V.jsx)(E.a,{onClick:function(){return M.handleClose()},children:"CANCEL"}),Object(V.jsx)(E.a,{disabled:P,onClick:function(){var e=Object(i.a)(o.a.mark((function e(r){var a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.getState(),c=a.errors,i=a.values,!c||Object(L.a)(c)){e.next=5;break}se(c),e.next=10;break;case 5:if(!i.featuredImage||i.featuredImage===Object(R.a)(n,"data.data.featuredImage","")){e.next=8;break}return e.next=8,T({file:Z});case 8:return e.next=10,t(r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),type:"submit",variant:"contained",children:"CREATE"})]})]})})}})})))))},278:function(e,t,n){e.exports={"registerForm-container":"RegisterForm_registerForm-container__SYX9N"}},282:function(e,t,n){e.exports={"loginForm-container":"LoginForm_loginForm-container__2JVMc"}},296:function(e,t,n){},297:function(e,t,n){e.exports={"main-container":"Main_main-container__2nMTc"}},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n(1),a=n.n(r),c=n(78),o=n(0),i=a.a.createContext({}),s=function(e){var t=e.children,n=Object(c.useMediaQuery)({query:"(min-width: 320px)"}),r=Object(c.useMediaQuery)({query:"(min-width: 480px)"}),a=Object(c.useMediaQuery)({query:"(min-width: 740px)"}),s=Object(c.useMediaQuery)({query:"(min-width: 968px)"}),u=Object(c.useMediaQuery)({query:"(min-width: 1280px)"}),l=Object(c.useMediaQuery)({query:"(min-width: 1600px)"}),d=Object(c.useMediaQuery)({query:"(orientation: landscape)"}),j=Object(c.useMediaQuery)({query:"(orientation: portrait)"}),b=Object(c.useMediaQuery)({query:"(min-resolution: 2dppx)"});return Object(o.jsx)(i.Provider,{value:{isMobile:n,isMobileLandscape:r,isTablet:a,isLaptop:s,isDesktop:u,isWide:l,isLandscape:d,isPortrait:j,isRetina:b},children:t})}},474:function(e,t,n){},478:function(e,t,n){},479:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(67),o=n.n(c),i=n(89),s=n(26),u=n(301),l=Object(u.a)({palette:{primary:{main:"#ee9b00",light:"#ffb52a",dark:"#c78100"},secondary:{main:"#ae2012",light:"#e32a18",dark:"#8a190e"}},typography:{htmlFontSize:16},components:{MuiToolbar:{styleOverrides:{root:{height:"64px"}}},MuiDialogTitle:{styleOverrides:{root:{backgroundColor:"#ee9b00"}}},MuiDialogActions:{styleOverrides:{root:{padding:"16px 24px"}}},MuiTableCell:{styleOverrides:{head:{fontWeight:"700"}}}}}),d=n(500),j=n(502),b=n(579),f=n(101),p=n(503),O=n(36),h=n.n(O),x=n(21),m=n(8),v=n(577),g=n(565),w=n(584),y=n(586),C=n(120),k=n.n(C),S=n(151),E=n(585),I=n(58),_=n.n(I),N=n(7),P=n.n(N),T=n(14),D=n(19),M=n(310),A=n(114),R=n(278),L=n.n(R),F=n(170),W=n.n(F),H=n(118),U=function(){var e=Object(T.a)(P.a.mark((function e(t){var n,r,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.password,(a=new URLSearchParams).append("username",n),a.append("password",r),a.append("client_id","eventmanager-react"),a.append("grant_type","password"),e.next=8,W.a.post("".concat(Object(H.a)()?"http://keycloack:8080":"http://localhost:8080","/auth/realms/").concat("eventmanager","/protocol/openid-connect/token"),a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=n(22),G=n(109),Q=function(){var e=Object(T.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.getToken();case 2:return e.sent,e.next=5,q.a.get("/accounts/userInfo");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(T.a)(P.a.mark((function e(t){var n,r,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.password,a={username:n,credentials:[{type:"password",value:r,temporary:!1}]},e.next=4,q.a.post("/accounts/signup",a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V={HOME:"/",USER_LOGIN:"/login",USER_SIGNUP:"/signup",ADMIN_LOGIN:"/admin",ADMIN_EVENTS:"/admin/events",ADMIN_PROMOTERS:"/admin/promoters",ADMIN_CATEGORIES:"/admin/categories"},Y=n(306),z="access_token",J="refresh_token",X="userInfo",Z=JSON.parse,K=JSON.stringify,$=function(){var e=function(e){return localStorage&&localStorage.getItem(e)?localStorage.removeItem(e):sessionStorage&&sessionStorage.getItem(e)?sessionStorage.removeItem(e):null},t=function(e){return localStorage&&localStorage.getItem(e)?Z(localStorage.getItem(e))||null:sessionStorage&&sessionStorage.getItem(e)&&Z(sessionStorage.getItem(e))||null},n=function(){var e=Object(T.a)(P.a.mark((function e(t,n,r){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(Y.a)(t)){e.next=2;break}return e.abrupt("return",null);case 2:if(!r||!localStorage){e.next=4;break}return e.abrupt("return",localStorage.setItem(n,K(t)));case 4:if(!sessionStorage){e.next=6;break}return e.abrupt("return",sessionStorage.setItem(n,K(t)));case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),r=function(){var e=Object(T.a)(P.a.mark((function e(){var t,r,a,c=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",r=c.length>1&&void 0!==c[1]&&c[1],a=c.length>2&&void 0!==c[2]?c[2]:z,e.next=5,n(t,a,r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(T.a)(P.a.mark((function e(){var t,r,a,c=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",r=c.length>1&&void 0!==c[1]&&c[1],a=c.length>2&&void 0!==c[2]?c[2]:J,e.next=5,n(t,a,r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(T.a)(P.a.mark((function e(){var t,r,a,c=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",r=c.length>1&&void 0!==c[1]&&c[1],a=c.length>2&&void 0!==c[2]?c[2]:X,e.next=5,n(K(t),a,r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{clear:e,clearAppStorage:function(){localStorage&&localStorage.clear(),sessionStorage&&sessionStorage.clear()},clearToken:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return e(t)},clearUserInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;return e(t)},get:t,getToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return t(e)},getRefreshToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;return t(e)},getUserInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;return Z(t(e))},set:n,setToken:r,setRefreshToken:a,setUserInfo:c}},ee=n(186),te=n(0),ne=a.a.createContext([{},function(){}]),re=function(e){var t=e.children,n=Object(x.f)(),r=Object(x.e)(),c=$(),o=Object(f.b)().enqueueSnackbar,i=Object(ee.b)().keycloak;console.log("keycloak",i);var u=i.authenticated;console.log("isLoggedIn",u),i.onAuthLogout=function(){console.log("onAuthLogout")},i.onReady=function(){console.log("onReady")},i.onAuthSuccess=function(){console.log("onAuthSuccess")},i.onAuthError=function(){console.log("onAuthError")},i.onAuthRefreshSuccess=function(){console.log("onAuthRefreshSuccess")},i.onAuthRefreshError=function(){console.log("onAuthRefreshError")},i.onTokenExpired=function(){console.log("onTokenExpired")};var l=a.a.useState(void 0),d=Object(m.a)(l,2),j=d[0],b=d[1],p=a.a.useState(!0),O=Object(m.a)(p,2),h=(O[0],O[1]),v=Object(s.useMutation)(function(){var e=Object(T.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t).then(function(){var e=Object(T.a)(P.a.mark((function e(t){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.data).access_token||!r.expires_in){e.next=7;break}return b(!0),e.next=5,c.setToken(r.access_token,!0);case 5:o("Login successful.",{variant:"success"}),n(V.HOME);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return b(!1),o("Login error.",{variant:"error"}),n(V.HOME),e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=v.mutate,w=v.status,y=Object(s.useMutation)(function(){var e=Object(T.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t).then(function(){var e=Object(T.a)(P.a.mark((function e(t){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=t.message)&&(o(r,{variant:"success"}),n(V.HOME));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return b(!1),o("Login error.",{variant:"error"}),n(V.HOME),e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C=y.mutate,k=y.status,S=Object(s.useQuery)("userInfo",Object(T.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().then(function(){var e=Object(T.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,e.next=3,c.setUserInfo(n);case 3:b(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){b(!1)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{manual:!0,enabled:!1}),E=function(){var e=Object(T.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.useEffect((function(){E()}),[r.pathname]),a.a.useEffect((function(){var e=c.getToken(),t=c.getRefreshToken();console.log("token",e),console.log("refresh_token",t),i.login()}),[]),a.a.useEffect((function(){[w.status,k.status,S.status].some((function(e){return"loading"===e}))?h(!0):h(!1)}),[w.status,k.status,S.status]),Object(te.jsx)(ne.Provider,{value:{login:g,signup:C,logged:j},children:t})},ae=function(){var e=r.useContext(ne).signup,t=function(){var t=Object(T.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("data",n),t.next=3,e(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(te.jsx)(D.b,{onSubmit:t,initialValues:{},render:function(e){var t=e.handleSubmit;return Object(te.jsxs)("form",{className:L.a["".concat("registerForm-","container")],onSubmit:t,children:[Object(te.jsx)("div",{children:Object(te.jsx)(D.a,{name:"username",children:function(e){return Object(te.jsx)("div",{children:Object(te.jsx)(A.a,{margin:"normal",fullWidth:!0,name:e.input.name,value:e.input.value,onChange:e.input.onChange,label:"Username",type:"text",id:"username"})})}})}),Object(te.jsx)("div",{children:Object(te.jsx)(D.a,{name:"password",children:function(e){return Object(te.jsx)("div",{children:Object(te.jsx)(A.a,{margin:"normal",fullWidth:!0,name:e.input.name,value:e.input.value,onChange:e.input.onChange,label:"Password",type:"password",id:"password"})})}})}),Object(te.jsx)("div",{children:Object(te.jsx)(D.a,{name:"confirmPassword",children:function(e){return Object(te.jsx)("div",{children:Object(te.jsx)(A.a,{margin:"normal",fullWidth:!0,name:e.input.name,value:e.input.value,onChange:e.input.onChange,label:"Confirm password",type:"password",id:"confirmPassword"})})}})}),Object(te.jsx)(M.a,{type:"submit",fullWidth:!0,variant:"contained",children:"Sign up"})]})}})},ce=n(12),oe=n(91),ie=n(282),se=n.n(ie),ue={username:"",password:""},le=function(){var e=function(){var e=Object(T.a)(P.a.mark((function e(n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=r.useContext(ne).login;return Object(te.jsx)(D.b,{onSubmit:e,initialValues:Object(ce.a)({},ue),render:function(e){var t=e.handleSubmit;return Object(te.jsxs)("form",{className:se.a["".concat("loginForm-","container")],onSubmit:t,children:[Object(te.jsx)("div",{children:Object(te.jsx)(D.a,{name:"username",children:function(e){return Object(te.jsx)("div",{children:Object(te.jsx)(A.a,{margin:"normal",fullWidth:!0,name:e.input.name,value:e.input.value,onChange:e.input.onChange,label:"Username",type:"text",id:"username"})})}})}),Object(te.jsx)("div",{children:Object(te.jsx)(D.a,{name:"password",children:function(e){return Object(te.jsx)("div",{children:Object(te.jsx)(A.a,{margin:"normal",fullWidth:!0,name:e.input.name,value:e.input.value,onChange:e.input.onChange,label:"Password",type:"password",id:"password"})})}})}),Object(te.jsx)(M.a,{type:"submit",fullWidth:!0,variant:"contained",children:"Sign In"})]})}})},de=function(e){return Object(te.jsxs)(S.a,Object(ce.a)(Object(ce.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(te.jsx)(w.a,{color:"inherit",href:"#",children:"Event Manager"}),(new Date).getFullYear()]}))},je=function(){var e="authPage-",t=r.useContext(ne).logged,n=r.useState(!1),a=Object(m.a)(n,2),c=a[0],o=a[1],i=Object(x.f)().navigate,s=Object(x.e)();return r.useEffect((function(){t&&i(V.ADMIN_EVENTS),o(s.pathname===V.USER_SIGNUP)}),[]),Object(te.jsxs)(E.a,{className:_.a["".concat(e,"container")],component:"main",maxWidth:"xs",children:[Object(te.jsx)(g.a,{}),Object(te.jsxs)(y.a,{className:_.a["".concat(e,"wrapper")],children:[Object(te.jsx)(v.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(te.jsx)(k.a,{})}),Object(te.jsx)(S.a,{component:"h1",variant:"h5",children:c?"Sign up":"Sign in"}),c?Object(te.jsx)(ae,{}):Object(te.jsx)(le,{}),Object(te.jsx)(w.a,{className:_.a["".concat(e,"changeFormLink")],onClick:function(){return o(!c)},variant:"body2",children:c?"Do you have an account? Sign in":"Don't have an account? Sign Up"}),Object(te.jsx)(de,{className:_.a["".concat(e,"copyright")]})]})]})},be=n(220),fe=n(593),pe=n(594),Oe=n(595),he=n(596),xe=n(592),me=n(121),ve=n(127),ge=function(){var e=r.useState([]),t=Object(m.a)(e,2),n=t[0],a=t[1],c=r.useState(0),o=Object(m.a)(c,2),i=o[0],s=o[1],u=r.useState({}),l=Object(m.a)(u,2),d=l[0],j=l[1],b=r.useState([]),f=Object(m.a)(b,2);return{docs:n,totalDocs:i,handleDocs:function(e,t){a(e),s(t)},selectedItem:d,selectedItems:f[0],setSelectedItem:j,setSelectedItems:f[1]}},we=n(302),ye=n(5),Ce=(n(587),n(588),n(589),n(590),n(591),n(581),n(501)),ke=(n(566),n(284),n(177)),Se=n.n(ke),Ee=(n(283),n(37)),Ie=n.n(Ee),_e=(n(133),Object(ye.a)((function(e){e.expand;var t=Object(we.a)(e,["expand"]);return Object(te.jsx)(p.a,Object(ce.a)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}})),n(215)),Ne=n.n(_e),Pe=n(567),Te=n(216),De=n.n(Te),Me=function(e){var t=e.objects,n="toolbar-";return Object(te.jsx)("div",{className:De.a["".concat(n,"container")],children:Object(te.jsx)("div",{className:De.a["".concat(n,"wrapper")],children:t.map((function(e,t){return Object(te.jsx)(M.a,{variant:"contained",onClick:e.onClick,children:e.name},"".concat(Object(Pe.a)(e.name),"-").concat(t))}))})})},Ae=function(){var e=r.useState(!1),t=Object(m.a)(e,2),n=t[0],a=t[1],c=r.useState(void 0),o=Object(m.a)(c,2),i=o[0],s=o[1];return{open:n,handleOpen:function(e,t,n){e&&s(e),a(!0)},handleClose:function(e,t){s(void 0),a(!1)},id:i}},Re=n(3),Le=n(495),Fe=n(496),We=n(504),He=n(497),Ue=n(312),qe=n(308),Ge=n(307),Qe=n(314),Be=n(315),Ve=n(309),Ye=n(489),ze=n(505),Je=n(305),Xe=n(178),Ze=n(100),Ke=n(128),$e=n(35),et=n(179),tt=n.n(et),nt=n(188),rt=n(25),at=n(124),ct=rt.c({title:rt.d().required(),description:rt.d(),featuredImage:rt.d().required(),startDate:rt.d().required(),endDate:rt.d().required(),category:rt.d().required(),promoter:rt.d().required(),tags:rt.a().of(rt.d()),url:rt.d(),location:rt.d(),isOffline:rt.b().required(),isPublic:rt.b().required()}),ot=Object(oe.a)(ct),it=Object(Ke.a)(Object(Ze.a)(Object(ve.a)(Object(nt.a)((function(e){var t,n=e.readCategories,a=e.readPromoters,c=e.uploadFile,o=e.title,i=e.dialog,s=e.onSubmit,u=r.useState(void 0),l=Object(m.a)(u,2),d=l[0],j=l[1],b=r.useState([]),f=Object(m.a)(b,2),O=f[0],x=f[1],v=r.useState(!0),g=Object(m.a)(v,2),w=(g[0],g[1]),y=r.useContext($e.a).isTablet,C=Object(at.a)().showErrors,k=function(){var e=Object(T.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.refetch(),a.refetch();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(T.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,k();case 3:w(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.useEffect((function(){S()}),[]),Object(te.jsx)(D.b,{onSubmit:s,validate:ot,initialValues:Object(ce.a)({},Xe.a),render:function(e){var r=e.handleSubmit,s=(e.reset,e.form),u=e.submitting;e.pristine,e.values;return t=r,Object(te.jsx)("form",{onSubmit:r,children:Object(te.jsxs)(Le.a,{className:tt.a["".concat("create-event-dialog-","container")],open:i.open,onClose:i.handleClose,fullScreen:!y,"aria-labelledby":"createEvent",children:[Object(te.jsx)(Fe.a,{children:Object(te.jsxs)("div",{className:"flex-row",children:[o,Object(te.jsx)(p.a,{onClick:i.handleClose,children:Object(te.jsx)(h.a,{})})]})}),Object(te.jsxs)(We.a,{children:[Object(te.jsx)(D.a,{name:"title",children:function(e){return Object(te.jsx)("div",{children:Object(te.jsx)(A.a,Object(ce.a)(Object(ce.a)({},e.input),{},{error:!!e.meta.error,margin:"normal",fullWidth:!0,label:"Title",type:"text",id:"title"}))})}}),Object(te.jsx)(D.a,{name:"description",children:function(e){return Object(te.jsx)("div",{children:Object(te.jsx)(A.a,Object(ce.a)(Object(ce.a)({sx:{mt:"16px",mb:"8px"}},e.input),{},{fullWidth:!0,id:"description",label:"Description",multiline:!0,rows:4,variant:"outlined"}))})}}),Object(te.jsxs)("div",{className:"form-row",children:[Object(te.jsx)(D.a,{name:"startDate",children:function(e){return Object(te.jsx)(Je.a,Object(ce.a)(Object(ce.a)({},e.input),{},{value:Ie()(e.input.value).toISOString(),onChange:function(t,n){return e.input.onChange(Ie()(n).toISOString())},renderInput:function(e){var t;return Object(te.jsx)(A.a,Object(ce.a)((t={fullWidth:!0,sx:{mt:"16px",mb:"8px"}},Object(Re.a)(t,"fullWidth",!0),Object(Re.a)(t,"variant","outlined"),t),e))},margin:"normal",label:"Start date",type:"text",id:"startDate"}))}}),Object(te.jsx)(D.a,{name:"endDate",children:function(e){return Object(te.jsx)(Je.a,Object(ce.a)(Object(ce.a)({},e.input),{},{value:Ie()(e.input.value).toISOString(),onChange:function(t,n){return e.input.onChange(Ie()(n).toISOString())},renderInput:function(e){var t;return Object(te.jsx)(A.a,Object(ce.a)((t={fullWidth:!0,sx:{mt:"16px",mb:"8px"}},Object(Re.a)(t,"fullWidth",!0),Object(Re.a)(t,"variant","outlined"),t),e))},margin:"normal",label:"End date",type:"text",id:"endDate"}))}})]}),Object(te.jsx)(D.a,{name:"tags",children:function(e){return Object(te.jsx)(He.a,{fullWidth:!0,name:e.input.name,value:O,multiple:!0,onChange:function(e,t){x((function(e){return t}))},id:"tags",options:[],freeSolo:!0,renderTags:function(e,t){if(e&&e.length)return e.map((function(e,n){return Object(te.jsx)(Ce.a,Object(ce.a)({variant:"outlined",label:e},t({index:n})))}))},renderInput:function(e){return Object(te.jsx)(A.a,Object(ce.a)(Object(ce.a)({fullWidth:!0,sx:{mt:"16px",mb:"8px"}},e),{},{label:"Tags"}))}})}}),Object(te.jsxs)("div",{className:"form-row",children:[Object(te.jsxs)("div",{className:"form-column",style:{flexBasis:"50%"},children:[Object(te.jsx)(D.a,{name:"category",children:function(e){return Object(te.jsxs)(Ue.a,{sx:{mt:"16px",mb:"8px"},fullWidth:!0,children:[Object(te.jsx)(qe.a,{id:"categoryLabel",children:"Category"}),Object(te.jsx)(Ge.a,Object(ce.a)(Object(ce.a)({},e.input),{},{error:!!e.meta.error,labelId:"categoryLabel",id:"category",label:"Category",children:Object(be.a)(n,"data.data",[]).map((function(e,t){return Object(te.jsx)(Qe.a,{value:e._id,children:e.name},"".concat(e.name,"-").concat(t))}))}))]})}}),Object(te.jsx)(D.a,{name:"promoter",children:function(e){return Object(te.jsxs)(Ue.a,{sx:{mt:"16px",mb:"8px"},fullWidth:!0,children:[Object(te.jsx)(qe.a,{id:"promoterLabel",children:"Promoter"}),Object(te.jsx)(Ge.a,Object(ce.a)(Object(ce.a)({},e.input),{},{error:!!e.meta.error,labelId:"promoterLabel",id:"promoter",label:"Promoter",children:Object(be.a)(a,"data.data",[]).map((function(e,t){return Object(te.jsx)(Qe.a,{value:e._id,children:e.name},"".concat(e.name,"-").concat(t))}))}))]})}}),Object(te.jsx)(D.a,{name:"url",children:function(e){return Object(te.jsx)(A.a,Object(ce.a)(Object(ce.a)({},e.input),{},{error:!!e.meta.error,margin:"normal",fullWidth:!0,label:"Url",type:"text",id:"url"}))}}),Object(te.jsx)(D.a,{name:"location",children:function(e){return Object(te.jsx)(A.a,Object(ce.a)(Object(ce.a)({},e.input),{},{margin:"normal",fullWidth:!0,label:"Location",type:"text",id:"location"}))}}),Object(te.jsxs)("div",{className:"form-row",children:[Object(te.jsx)(D.a,{name:"isOffline",type:"checkbox",children:function(e){return Object(te.jsx)(Be.a,Object(ce.a)(Object(ce.a)({},e.input),{},{control:Object(te.jsx)(Ve.a,{checked:e.input.value,onChange:e.input.onChange}),label:"Offline"}))}}),Object(te.jsx)(D.a,{name:"isPublic",type:"checkbox",children:function(e){return Object(te.jsx)(Be.a,Object(ce.a)(Object(ce.a)({},e.input),{},{control:Object(te.jsx)(Ve.a,{checked:e.input.value,onChange:e.input.onChange}),label:"Public"}))}})]})]}),Object(te.jsx)("div",{style:{flexBasis:"50%"},children:Object(te.jsxs)("div",{className:"form-column",children:[Object(te.jsx)("img",{src:"/placeholder.svg",width:200,alt:"placeholder"}),Object(te.jsx)(D.a,{name:"featuredImage",children:function(e){return Object(te.jsx)("label",Object(ce.a)(Object(ce.a)({},e.input),{},{onChange:function(t){return function(e,t){e.preventDefault();var n=e.target.files[0];t("http://localhost:3000/uploads/"+n.name),j(n)}(t,e.input.onChange)},htmlFor:"contained-button-file",children:Object(te.jsx)(Ye.a,{accept:"image/*",id:"contained-button-file",type:"file"})}))}})]})})]})]}),Object(te.jsxs)(ze.a,{children:[Object(te.jsx)(M.a,{onClick:function(){return i.handleClose()},children:"CANCEL"}),Object(te.jsx)(M.a,{disabled:u,onClick:function(){var e=Object(T.a)(P.a.mark((function e(n){var r,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.getState(),!(a=r.errors)||Object(Y.a)(a)){e.next=5;break}C(a),e.next=9;break;case 5:return e.next=7,c({file:d});case 7:return e.next=9,t(n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),type:"submit",variant:"contained",children:"CREATE"})]})]})})}})}))))),st=n(269),ut=function(e){var t=e.title,n=e.dialog,a=e.onSubmit,c=r.useContext($e.a).isTablet;return Object(te.jsxs)(Le.a,{open:n.open,onClose:n.handleClose,fullScreen:!c,"aria-labelledby":"createEvent",children:[Object(te.jsx)(Fe.a,{children:Object(te.jsxs)("div",{className:"form-row",children:[t,Object(te.jsx)(p.a,{onClick:n.handleClose,children:Object(te.jsx)(h.a,{})})]})}),Object(te.jsx)(We.a,{children:"Do you want to delete this event?"}),Object(te.jsxs)(ze.a,{children:[Object(te.jsx)(M.a,{autoFocus:!0,onClick:n.handleClose,children:"CANCEL"}),Object(te.jsx)(M.a,{onClick:function(){return a(n.id)},autoFocus:!0,variant:"contained",children:"CONFIRM"})]})]})},lt=n(291),dt=n.n(lt),jt=n(293),bt=n.n(jt),ft=n(290),pt=n.n(ft),Ot=n(292),ht=n.n(Ot),xt=n(294),mt=n.n(xt),vt=n(295),gt=n.n(vt),wt=n(578),yt=n(125),Ct=n.n(yt),kt=n(126),St=n.n(kt),Et=n(191),It=n.n(Et),_t=function(e){var t=e.id,n=e.updateDialog,r=e.deleteDialog,a=e.url,c="table-actions-";return Object(te.jsxs)("div",{className:It.a["".concat(c,"container")],children:[Object(te.jsx)(wt.a,{title:"Edit",placement:"top",children:Object(te.jsx)(p.a,{onClick:function(){return n.handleOpen(t)},children:Object(te.jsx)(Ct.a,{color:"primary"})})}),Object(te.jsx)(wt.a,{title:"Delete",placement:"top",children:Object(te.jsx)(p.a,{onClick:function(){return r.handleOpen(t)},children:Object(te.jsx)(St.a,{className:It.a["".concat(c,"delete-icon")]})})}),a&&Object(te.jsx)(wt.a,{title:"Link",placement:"top",children:Object(te.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:Object(te.jsx)(p.a,{children:Object(te.jsx)(Se.a,{className:It.a["".concat(c,"link-icon")]})})})})]})},Nt=r.memo(_t);function Pt(e){var t=e.columns,n=e.data,r=Object(me.useTable)({columns:t,data:n}),a=r.getTableProps,c=r.headerGroups,o=r.rows,i=r.prepareRow;return Object(te.jsxs)(xe.a,Object(ce.a)(Object(ce.a)({size:"small"},a()),{},{children:[Object(te.jsx)(fe.a,{children:c.map((function(e){return Object(te.jsx)(pe.a,Object(ce.a)(Object(ce.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(te.jsx)(Oe.a,Object(ce.a)(Object(ce.a)({},e.getHeaderProps()),{},{children:e.render("Header")}),"".concat(e.id))}))}))}))}),Object(te.jsx)(he.a,{children:o.map((function(e,t){return i(e),Object(te.jsx)(pe.a,Object(ce.a)(Object(ce.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(te.jsx)(Oe.a,Object(ce.a)(Object(ce.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))})]}))}var Tt=Object(ve.a)((function(e){var t=e.readEvents,n=e.createEvent,a=e.updateEvent,c=e.deleteEvent,o="dashboard-page-",i=r.useContext(ne).logged,s=function(){var e=Object(T.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({data:t,createSuccessCb:function(){j.handleClose()}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(T.a)(P.a.mark((function e(t,n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({data:n,createSuccessCb:function(){b.handleClose()}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(T.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({id:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=ge(),j=Ae(),b=Ae(),f=Ae(),p=r.useMemo((function(){return[{Header:function(){return null},id:"logo",Cell:function(e){var t=e.row;return Object(te.jsx)("div",{className:Ne.a["".concat(o,"logo-wrapper")],children:Object(te.jsx)("img",{src:t.original.featuredImage,height:50})})}},{Header:"Title",accessor:"title"},{Header:"Description",accessor:"description"},{Header:"Date",id:"startDate",Cell:function(e){var t=e.row;return Object(te.jsxs)("div",{className:Ne.a["".concat(o,"date-wrapper")],children:[Object(te.jsxs)("div",{className:"flex-row",children:[Object(te.jsx)(pt.a,{}),Object(te.jsxs)("div",{className:"flex-column",children:[Object(te.jsx)("span",{children:Ie()(t.original.startDate).format("DD/MM/YYYY HH:mm")}),Object(te.jsx)("span",{children:Ie()(t.original.endDate).format("DD/MM/YYYY HH:mm")})]})]}),Object(te.jsxs)("div",{className:"flex-row",children:[Object(te.jsx)(dt.a,{}),Object(te.jsx)("span",{children:"".concat(Math.ceil(t.original.duration/6e4),"min")})]})]})}},{Header:"Category",accessor:"category.name",Cell:function(e){var t=e.row;return Object(te.jsx)("div",{className:"category-chip",children:Object(te.jsx)("span",{children:t.original.category.name})})}},{Header:"Promoter",accessor:"promoter.name",Cell:function(e){var t=e.row;return Object(te.jsx)(w.a,{underline:"hover",href:t.original.promoter.website,children:t.original.promoter.name})}},{Header:"Public",id:"isPublic",Cell:function(e){return e.row.original.isPublic?Object(te.jsx)(ht.a,{}):Object(te.jsx)(bt.a,{})}},{Header:"Offline",id:"isOffline",Cell:function(e){return e.row.original.isOffline?Object(te.jsx)(mt.a,{}):Object(te.jsx)(gt.a,{})}},{Header:"Actions",id:"actions",Cell:function(e){var t=e.row;return Object(te.jsx)(Nt,{id:t.original._id,updateDialog:b,deleteDialog:f,url:t.original.url})}}]}),[]),O=function(){var e=Object(T.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.refetch();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.useEffect((function(){O()}),[]),r.useEffect((function(){if(t.data){var e=Object(be.a)(t,"data.data",[]);d.handleDocs(e,0)}}),[t.data]),Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(g.a,{}),i&&Object(te.jsx)(Me,{objects:[{name:"Aggiungi evento",onClick:function(){return j.handleOpen()}}]}),Object(te.jsx)(Pt,{columns:p,data:d.docs}),Object(te.jsx)(it,{title:"Create event",dialog:j,onSubmit:s}),Object(te.jsx)(st.default,{title:"Update event",dialog:b,onSubmit:u}),Object(te.jsx)(ut,{title:"Delete event",dialog:f,onSubmit:l})]})})),Dt=function(e){var t=e.title,n=e.open,a=e.onClose,c=r.useContext($e.a).isTablet;return Object(te.jsxs)(Le.a,{open:n,onClose:a,fullScreen:!c,"aria-labelledby":"createEvent",children:[Object(te.jsx)(Fe.a,{children:Object(te.jsxs)("div",{className:"form-row",children:[t,Object(te.jsx)(p.a,{onClick:a,children:Object(te.jsx)(h.a,{})})]})}),Object(te.jsx)(We.a,{children:"CREATE PROMOTER FORM"}),Object(te.jsxs)(ze.a,{children:[Object(te.jsx)(M.a,{autoFocus:!0,onClick:a,children:"CANCEL"}),Object(te.jsx)(M.a,{type:"submit",autoFocus:!0,variant:"contained",children:"CREATE"})]})]})},Mt=function(e){var t=e.title,n=e.open,a=e.onClose,c=r.useContext($e.a).isTablet;return Object(te.jsxs)(Le.a,{open:n,onClose:a,fullScreen:!c,"aria-labelledby":"createEvent",children:[Object(te.jsx)(Fe.a,{children:Object(te.jsxs)("div",{className:"form-row",children:[t,Object(te.jsx)(p.a,{onClick:a,children:Object(te.jsx)(h.a,{})})]})}),Object(te.jsx)(We.a,{children:"UPDATE PROMOTER FORM"}),Object(te.jsxs)(ze.a,{children:[Object(te.jsx)(M.a,{autoFocus:!0,onClick:a,children:"CANCEL"}),Object(te.jsx)(M.a,{type:"submit",autoFocus:!0,variant:"contained",children:"CREATE"})]})]})},At=function(e){var t=e.title,n=e.open,a=e.onClose,c=r.useContext($e.a).isTablet;return Object(te.jsxs)(Le.a,{open:n,onClose:a,fullScreen:!c,"aria-labelledby":"createEvent",children:[Object(te.jsx)(Fe.a,{children:Object(te.jsxs)("div",{className:"form-row",children:[t,Object(te.jsx)(p.a,{onClick:a,children:Object(te.jsx)(h.a,{})})]})}),Object(te.jsx)(We.a,{children:"Do you want to delete this promoter?"}),Object(te.jsxs)(ze.a,{children:[Object(te.jsx)(M.a,{autoFocus:!0,onClick:a,children:"CANCEL"}),Object(te.jsx)(M.a,{type:"submit",autoFocus:!0,variant:"contained",children:"CREATE"})]})]})};function Rt(e){var t=e.columns,n=e.data,r=Object(me.useTable)({columns:t,data:n}),a=r.getTableProps,c=r.headerGroups,o=r.rows,i=r.prepareRow;return Object(te.jsxs)(xe.a,Object(ce.a)(Object(ce.a)({},a()),{},{children:[Object(te.jsx)(fe.a,{children:c.map((function(e){return Object(te.jsx)(pe.a,Object(ce.a)(Object(ce.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(te.jsx)(Oe.a,Object(ce.a)(Object(ce.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(te.jsx)(he.a,{children:o.map((function(e,t){return i(e),Object(te.jsx)(pe.a,Object(ce.a)(Object(ce.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(te.jsx)(Oe.a,Object(ce.a)(Object(ce.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))})]}))}var Lt=Object(Ke.a)((function(e){var t=e.readPromoters,n=ge(),a=Ae(),c=Ae(),o=Ae(),i=$(),s=[{Header:function(){return null},id:"logo",Cell:function(e){e.row;return Object(te.jsx)("span",{children:"LOGO"})}},{Header:"Name",accessor:"name"},{Header:"Description",accessor:"description"},{Header:"Website",accessor:"website"},{Header:"Email",accessor:"email"},{Header:"Actions",id:"actions",Cell:function(e){e.row;return Object(te.jsxs)("div",{children:[Object(te.jsx)(p.a,{onClick:function(){return c.handleOpen()},children:Object(te.jsx)(Ct.a,{})}),Object(te.jsx)(p.a,{onClick:function(){return o.handleOpen()},children:Object(te.jsx)(St.a,{})})]})}}];return r.useEffect((function(){t.refetch()}),[]),r.useEffect((function(){if(t.data){var e=(t.data||[]).data;n.handleDocs(e,0)}}),[t.data]),Object(te.jsxs)("div",{children:[Object(te.jsx)(g.a,{}),i.getUserInfo()&&Object(te.jsx)(Me,{objects:[{name:"Create promoter",onClick:function(){return a.handleOpen()}}]}),Object(te.jsx)(Rt,{columns:s,data:n.docs}),Object(te.jsx)(Dt,{title:"Create new promoter",open:a.open,onClose:a.handleClose}),Object(te.jsx)(Mt,{title:"Edit promoter",open:c.open,onClose:c.handleClose}),Object(te.jsx)(At,{title:"Delete promoter",open:o.open,onClose:o.handleClose})]})})),Ft={name:"",description:"",icon:""},Wt=function(e){var t,n=e.title,a=e.dialog,c=e.onSubmit,o=r.useContext($e.a).isTablet,i=Object(at.a)().showErrors,s=rt.c({name:rt.d().required(),description:rt.d()}),u=Object(oe.a)(s);return Object(te.jsx)(D.b,{onSubmit:c,initialValues:Object(ce.a)({},Ft),validate:u,render:function(e){var r=e.handleSubmit,c=e.form,s=e.submitting;e.values;return t=r,Object(te.jsx)("form",{onSubmit:function(e){return r(e)},children:Object(te.jsxs)(Le.a,{open:a.open,onClose:a.handleClose,fullScreen:!o,"aria-labelledby":"createEvent",children:[Object(te.jsx)(Fe.a,{children:Object(te.jsxs)("div",{className:"form-row",children:[n,Object(te.jsx)(p.a,{onClick:a.handleClose,children:Object(te.jsx)(h.a,{})})]})}),Object(te.jsxs)(We.a,{children:[Object(te.jsx)(D.a,{name:"name",children:function(e){return Object(te.jsx)(A.a,Object(ce.a)(Object(ce.a)({},e.input),{},{error:!!e.meta.error,margin:"normal",fullWidth:!0,label:"Name",type:"text",id:"name"}))}}),Object(te.jsx)(D.a,{name:"description",children:function(e){return Object(te.jsx)(A.a,Object(ce.a)(Object(ce.a)({sx:{mt:"16px",mb:"8px"}},e.input),{},{error:!!e.meta.error,fullWidth:!0,id:"description",label:"Description",multiline:!0,rows:4,variant:"outlined"}))}})]}),Object(te.jsxs)(ze.a,{children:[Object(te.jsx)(M.a,{onClick:a.handleClose,children:"CANCEL"}),Object(te.jsx)(M.a,{disabled:s,onClick:function(){var e=Object(T.a)(P.a.mark((function e(n){var r,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=c.getState(),(a=r.errors)&&!Object(Y.a)(a)?i(a):t(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),type:"submit",autoFocus:!0,variant:"contained",children:"CREATE"})]})]})})}})},Ht={title:"",description:"",icon:""},Ut=n(296),qt=n.n(Ut),Gt=Object(Ze.a)((function(e){var t=e.id,n=e.onSubmit,a=e.readCategoryById,c=e.setId,o=r.useState(Ht),i=Object(m.a)(o,2),s=i[0],u=i[1];return r.useEffect((function(){if(a.data){var e=a.data;u(e)}}),[a]),r.useEffect((function(){return t&&c(t),function(){return c(void 0)}}),[]),Object(te.jsx)(D.b,{onSubmit:n,initialValues:s,render:function(e){var t=e.handleSubmit;e.submitting,e.pristine,e.values;return Object(te.jsxs)("form",{id:"createCategoryForm",className:qt.a["".concat("categoryForm-","container")],onSubmit:t,children:[Object(te.jsx)(D.a,{name:"name",children:function(e){return Object(te.jsx)("div",{children:Object(te.jsx)(A.a,Object(ce.a)(Object(ce.a)({},e.input),{},{error:!!e.meta.error,margin:"normal",fullWidth:!0,label:"Name",type:"text",id:"name"}))})}}),Object(te.jsx)(D.a,{name:"description",children:function(e){return Object(te.jsx)("div",{children:Object(te.jsx)(A.a,Object(ce.a)(Object(ce.a)({sx:{mt:"16px",mb:"8px"}},e.input),{},{fullWidth:!0,id:"description",label:"Description",multiline:!0,rows:4,variant:"outlined"}))})}}),Object(te.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(te.jsx)(Ye.a,{accept:"image/*",id:"contained-button-file",multiple:!0,type:"file"}),Object(te.jsx)(M.a,{variant:"contained",component:"span",children:"Upload"})]})]})}})})),Qt=function(e){var t=e.title,n=e.dialog,a=e.onSubmit,c=r.useContext($e.a).isTablet;return Object(te.jsxs)(Le.a,{open:n.open,onClose:n.handleClose,fullScreen:!c,"aria-labelledby":"createEvent",children:[Object(te.jsx)(Fe.a,{children:Object(te.jsxs)("div",{className:"flex-row",children:[Object(te.jsx)(S.a,{variant:"h6",children:t}),Object(te.jsx)(p.a,{onClick:n.handleClose,children:Object(te.jsx)(h.a,{})})]})}),Object(te.jsx)(We.a,{children:Object(te.jsx)(Gt,{id:n.id,onSubmit:a})}),Object(te.jsxs)(ze.a,{children:[Object(te.jsx)(M.a,{autoFocus:!0,onClick:n.handleClose,children:"CANCEL"}),Object(te.jsx)(M.a,{type:"submit",autoFocus:!0,variant:"contained",children:"CREATE"})]})]})},Bt=function(e){var t=e.title,n=e.dialog,a=(e.onSubmit,r.useContext($e.a).isTablet);return Object(te.jsxs)(Le.a,{open:n.open,onClose:n.handleClose,fullScreen:!a,"aria-labelledby":"createEvent",children:[Object(te.jsx)(Fe.a,{children:Object(te.jsxs)("div",{className:"form-row",children:[t,Object(te.jsx)(p.a,{onClick:n.handleClose,children:Object(te.jsx)(h.a,{})})]})}),Object(te.jsx)(We.a,{children:"Do you want to delete this category?"}),Object(te.jsxs)(ze.a,{children:[Object(te.jsx)(M.a,{autoFocus:!0,onClick:n.handleClose,children:"CANCEL"}),Object(te.jsx)(M.a,{type:"submit",autoFocus:!0,variant:"contained",children:"CREATE"})]})]})};function Vt(e){var t=e.columns,n=e.data,r=Object(me.useTable)({columns:t,data:n}),a=r.getTableProps,c=r.headerGroups,o=r.rows,i=r.prepareRow;return Object(te.jsxs)(xe.a,Object(ce.a)(Object(ce.a)({},a()),{},{children:[Object(te.jsx)(fe.a,{children:c.map((function(e){return Object(te.jsx)(pe.a,Object(ce.a)(Object(ce.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(te.jsx)(Oe.a,Object(ce.a)(Object(ce.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(te.jsx)(he.a,{children:o.map((function(e,t){return i(e),Object(te.jsx)(pe.a,Object(ce.a)(Object(ce.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(te.jsx)(Oe.a,Object(ce.a)(Object(ce.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))})]}))}var Yt=Object(Ze.a)((function(e){var t=e.readCategories,n=e.createCategory,a=ge(),c=$(),o=Ae(),i=Ae(),s=Ae(),u=function(){var e=Object(T.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({data:t,createSuccessCb:function(){o.handleClose()}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=[{Header:function(){return null},id:"logo",cell:function(e){e.row;return Object(te.jsx)("span",{children:"LOGO"})}},{Header:"Name",accessor:"name"},{Header:"Description",accessor:"description"},{Header:"Icon",id:"icon",Cell:function(e){var t=e.row;return Object(te.jsx)("img",{src:t.original.logo})}},{Header:"Actions",id:"actions",Cell:function(e){var t=e.row;return Object(te.jsxs)("div",{children:[Object(te.jsx)(p.a,{onClick:function(){return i.handleOpen(t.original._id)},children:Object(te.jsx)(Ct.a,{})}),Object(te.jsx)(p.a,{onClick:function(){return s.handleOpen()},children:Object(te.jsx)(St.a,{})})]})}}],d=function(){var e=Object(T.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.refetch();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.useEffect((function(){d()}),[]),r.useEffect((function(){if(t.data){var e=Object(be.a)(t,"data.data",[]);a.handleDocs(e,0)}}),[t.data]),Object(te.jsxs)("div",{children:[Object(te.jsx)(g.a,{}),c.getUserInfo()&&Object(te.jsx)(Me,{objects:[{name:"Create category",onClick:function(){return o.handleOpen()}}]}),Object(te.jsx)(Vt,{columns:l,data:a.docs}),Object(te.jsx)(Wt,{title:"Create category",dialog:o,onSubmit:u}),Object(te.jsx)(Qt,{title:"Edit category",dialog:i,onSubmit:u}),Object(te.jsx)(Bt,{title:"Delete category",dialog:s,onSubmit:u})]})})),zt=function(){var e="authPage-",t=r.useContext(ne).logged,n=Object(x.f)();return r.useEffect((function(){t&&n(V.HOME)}),[]),Object(te.jsxs)(E.a,{className:_.a["".concat(e,"container")],component:"div",maxWidth:"xs",children:[Object(te.jsx)(g.a,{}),Object(te.jsxs)(y.a,{className:_.a["".concat(e,"wrapper")],children:[Object(te.jsx)(v.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(te.jsx)(k.a,{})}),Object(te.jsx)(S.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(te.jsx)(le,{}),Object(te.jsx)(w.a,{className:_.a["".concat(e,"changeFormLink")],onClick:function(){return n(V.USER_SIGNUP)},variant:"body2",children:"Don't have an account? Sign Up"}),Object(te.jsx)(de,{className:_.a["".concat(e,"copyright")]})]})]})},Jt=function(){var e="authPage-",t=r.useContext(ne),n=(t.signup,t.logged),a=Object(x.f)();return r.useEffect((function(){n&&a(V.HOME)}),[]),Object(te.jsxs)(E.a,{className:_.a["".concat(e,"container")],component:"div",maxWidth:"xs",children:[Object(te.jsx)(g.a,{}),Object(te.jsxs)(y.a,{className:_.a["".concat(e,"wrapper")],children:[Object(te.jsx)(v.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(te.jsx)(k.a,{})}),Object(te.jsx)(S.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(te.jsx)(ae,{}),Object(te.jsx)(w.a,{className:_.a["".concat(e,"changeFormLink")],onClick:function(){return a(V.USER_LOGIN)},variant:"body2",children:"Do you have an account? Sign in"})]})]})},Xt=function(){return Object(te.jsxs)(x.c,{children:[Object(te.jsx)(x.a,{exact:!0,path:V.HOME,element:Object(te.jsx)(Tt,{})}),Object(te.jsx)(x.a,{path:V.USER_LOGIN,element:Object(te.jsx)(zt,{})}),Object(te.jsx)(x.a,{path:V.USER_SIGNUP,element:Object(te.jsx)(Jt,{})}),Object(te.jsx)(x.a,{exact:!0,path:V.ADMIN_LOGIN,element:Object(te.jsx)(je,{})}),Object(te.jsx)(x.a,{path:V.ADMIN_EVENTS,element:Object(te.jsx)(Tt,{})}),Object(te.jsx)(x.a,{path:V.ADMIN_PROMOTERS,element:Object(te.jsx)(Lt,{})}),Object(te.jsx)(x.a,{path:V.ADMIN_CATEGORIES,element:Object(te.jsx)(Yt,{})})]})},Zt=function(){return Object(te.jsx)("footer",{children:Object(te.jsx)(de,{})})},Kt=n(297),$t=n.n(Kt),en=function(e){var t=e.children;return Object(te.jsx)("main",{className:$t.a["".concat("main-","container")],children:t})},tn=n(597),nn=n(598),rn=n(218),an=n.n(rn),cn=(n(474),n(576)),on=n(583),sn=n(575),un=n(569),ln=n(570),dn=n(298),jn=n.n(dn),bn=n(192),fn=n.n(bn),pn=n(299),On=n.n(pn),hn=n(571),xn=function(e){e.name;var t=$().getUserInfo(),n=r.useContext(ne).logged,a=r.useState(!1),c=Object(m.a)(a,2),o=c[0],i=c[1],s=Object(x.f)(),u=Object(x.e)(),l=function(e){u.pathname===e?i(!1):s(e)},d=function(e){return function(t){(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&i(e)}},j=[{name:"Events",url:V.ADMIN_EVENTS,icon:Object(te.jsx)(fn.a,{})}],b=[{name:"Categories",url:V.ADMIN_CATEGORIES,icon:Object(te.jsx)(jn.a,{})},{name:"Promoters",url:V.ADMIN_PROMOTERS,icon:Object(te.jsx)(On.a,{})}],f=r.useState(j),O=Object(m.a)(f,2),h=O[0],v=O[1];r.useEffect((function(){v(void 0!==n&&n?j.concat(b):j)}),[n]);return Object(te.jsx)(tn.a,{position:"fixed",children:Object(te.jsx)(E.a,{maxWidth:"xl",children:Object(te.jsxs)(nn.a,{disableGutters:!0,children:[Object(te.jsx)(S.a,{variant:"h6",noWrap:!0,component:"div",sx:{mr:2,display:{xs:"none",md:"flex"}},children:"LOGO"}),Object(te.jsxs)(y.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[Object(te.jsx)(p.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:d(!o),color:"inherit",children:Object(te.jsx)(an.a,{})}),Object(te.jsx)("div",{children:Object(te.jsxs)(r.Fragment,{children:[Object(te.jsx)(M.a,{onClick:d(!0),children:Object(te.jsx)(an.a,{})}),Object(te.jsx)(cn.a,{anchor:"left",open:o,onClose:d(!1),onOpen:d(!0),children:Object(te.jsx)(y.a,{sx:{width:250},role:"presentation",onClick:d(!1),onKeyDown:d(!1),children:Object(te.jsxs)(on.a,{children:[n&&t?Object(te.jsx)("div",{className:"form-row",children:Object(te.jsxs)("div",{className:"column",children:[Object(te.jsx)(S.a,{children:"Hello,"}),Object(te.jsx)(S.a,{children:t.name})]})}):Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)(sn.a,{button:!0,onClick:function(){return l(V.ADMIN_LOGIN)},children:[Object(te.jsx)(un.a,{children:Object(te.jsx)(fn.a,{})}),Object(te.jsx)(ln.a,{primary:"Login"})]}),Object(te.jsxs)(sn.a,{sx:{mt:0,mb:0},button:!0,onClick:function(){return l(V.ADMIN_LOGIN)},children:[Object(te.jsx)(un.a,{children:Object(te.jsx)(fn.a,{})}),Object(te.jsx)(ln.a,{primary:"Sign up"})]})]}),Object(te.jsx)(hn.a,{}),h.map((function(e,t){return Object(te.jsxs)(sn.a,{sx:{mt:0,mb:0},button:!0,onClick:function(){return l(e.url)},children:[Object(te.jsx)(un.a,{children:e.icon}),Object(te.jsx)(ln.a,{primary:e.name})]},"".concat(Object(Pe.a)(e.name)))}))]})})})]})})]}),Object(te.jsx)(y.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:h.map((function(e,t){return Object(te.jsx)(M.a,{onClick:function(){return l(e.url)},sx:{my:2,color:"white",display:"block"},children:e.name},"".concat(Object(Pe.a)(e.name),"-").concat(t))}))}),Object(te.jsx)(S.a,{variant:"h6",noWrap:!0,component:"div",sx:{mr:2,display:{xs:"none",md:"flex",color:"white",display:"block"}},children:t?t.name:Object(te.jsxs)("div",{className:"form-row",children:[Object(te.jsx)(M.a,{onClick:function(){return s(V.USER_LOGIN)},sx:{my:2,color:"white",display:"block"},children:"LOGIN"}),Object(te.jsx)(M.a,{onClick:function(){return s(V.USER_SIGNUP)},sx:{my:2,color:"white",display:"block"},children:"SIGN UP"})]})})]})})})},mn=function(e){var t=e.children;return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(xn,{}),Object(te.jsx)(en,{children:t}),Object(te.jsx)(Zt,{})]})},vn=n(568),gn=n(572),wn=n(300),yn=new(n.n(wn).a)({url:"".concat(Object(H.a)()?"http://keycloack:8080":"http://localhost:8080","/auth"),realm:"eventmanager",clientId:"eventmanager-react"}),Cn=new s.QueryClient({defaultOptions:{queries:{}}}),kn=r.createRef(),Sn=function(e){return function(){kn.current.closeSnackbar(e)}},En=function(){return Object(te.jsx)(i.a,{children:Object(te.jsx)(s.QueryClientProvider,{client:Cn,children:Object(te.jsx)(b.a,{theme:l,children:Object(te.jsx)(vn.b,{dateAdapter:gn.a,children:Object(te.jsx)($e.b,{children:Object(te.jsx)(f.a,{ref:kn,action:function(e){return Object(te.jsx)(p.a,{onClick:Sn(e),children:Object(te.jsx)(h.a,{})})},anchorOrigin:{vertical:"bottom",horizontal:"center"},maxSnack:3,children:Object(te.jsx)(mn,{children:Object(te.jsx)(r.Suspense,{fallback:Object(te.jsx)(d.a,{open:!0,sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.1)",zIndex:function(e){return e.zIndex.drawer+1}},children:Object(te.jsx)(j.a,{color:"primary"})}),children:Object(te.jsx)(ee.a,{authClient:yn,initOptions:{onLoad:"check-sso",token:G.a.getToken(),refreshToken:G.a.getRefreshToken()},children:Object(te.jsx)(re,{children:Object(te.jsx)(Xt,{})})})})})})})})})})})},In=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,599)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};n(478);o.a.render(Object(te.jsx)(a.a.StrictMode,{children:Object(te.jsx)(En,{})}),document.getElementById("root")),In()},58:function(e,t,n){e.exports={"authPage-container":"AuthPage_authPage-container__26TOm","authPage-wrapper":"AuthPage_authPage-wrapper__3BVXo","authPage-changeFormLink":"AuthPage_authPage-changeFormLink__1XRfJ","authPage-copyright":"AuthPage_authPage-copyright__2MJWG"}},91:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(7),a=n.n(r),c=n(14),o=n(112),i=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"function"===typeof e&&(e=e()),t.prev=1,t.next=4,e.validate(n,{abortEarly:!1});case 4:t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(1),r=t.t0.inner.reduce((function(e,t){return Object(o.d)(e,t.path,t.message)}),{}),t.abrupt("return",r);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()}}},[[479,1,2]]]);
//# sourceMappingURL=main.2c83b6ed.chunk.js.map